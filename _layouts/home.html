---
layout: default
---

<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<div class="wrapper h-25" id="boundry_box">
  <div class="d-flex flex-justify-around">
    <div class="vertical-2-3-center">
      <svg width="137" height="230" viewBox="0 0 137 230" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect y="10" width="127.397" height="220" rx="15" fill="#9A9286"/>
        <rect width="127.397" height="220" rx="15" fill="#D6CDC0"/>
        <rect x="9.60281" width="127.397" height="220" rx="15" fill="#F4F4EE"/>
        <rect width="31.9" height="49" rx="5" transform="matrix(-1 0 0 1 94.0767 87)" fill="#9A9286"/>
        <ellipse rx="16.9167" ry="24.5" transform="matrix(-1 0 0 1 88.0833 111.5)" fill="#9A9286"/>
        <ellipse rx="18.3667" ry="24.5" transform="matrix(-1 0 0 1 65.3667 111.5)" fill="#9A9286"/>
        <path d="M49.4167 111.5C49.4167 125.031 59.0897 136 69.2333 136C79.377 136 87.6 125.031 87.6 111.5C87.6 97.969 79.377 87 69.2333 87C59.0897 87 49.4167 97.969 49.4167 111.5Z" fill="#9A9286"/>
        <rect x="69.2333" y="88" width="19.3333" height="47" fill="#9A9286"/>
        <path d="M83.1533 127H76.7733V123.19C76.7733 121.428 78.2015 120 79.9633 120C81.7251 120 83.1533 121.428 83.1533 123.19V127Z" fill="#9A9286"/>
        <rect x="85.6667" y="98" width="3.86667" height="14" fill="#9A9286"/>
        <rect x="68.2667" y="96" width="3.86667" height="18" fill="#9A9286"/>
        <rect width="33" height="49" rx="5" transform="matrix(-1 0 0 1 95.7 84)" fill="#FFFFFA"/>
        <ellipse rx="17.5" ry="24.5" transform="matrix(-1 0 0 1 89.5 108.5)" fill="#FFFFFA"/>
        <ellipse rx="19" ry="24.5" transform="matrix(-1 0 0 1 66 108.5)" fill="#D6CDC0"/>
        <path d="M49.5 108.5C49.5 122.031 59.5066 133 70 133C80.4934 133 89 122.031 89 108.5C89 94.969 80.4934 84 70 84C59.5066 84 49.5 94.969 49.5 108.5Z" fill="#FFFFFA"/>
        <rect x="70" y="85" width="20" height="47" fill="#FFFFFA"/>
        <path d="M83.4 124H76.8V120.3C76.8 118.477 78.2774 117 80.1 117C81.9225 117 83.4 118.477 83.4 120.3V124Z" fill="#9C9386"/>
        <rect x="86" y="95" width="4" height="14" fill="#9C9386"/>
        <rect x="68" y="93" width="4" height="18" fill="#9C9386"/>
        <ellipse cx="77" cy="202.5" rx="7.5" ry="7" transform="rotate(-90 77 202.5)" fill="#9A9286"/>
        <rect x="70" y="203" width="5" height="14" rx="1" transform="rotate(-90 70 203)" fill="#9A9286"/>
        <ellipse cx="76.4171" cy="199" rx="6.41711" ry="8" fill="#D6CDC0"/>
        <rect x="75.4144" y="191" width="4.33155" height="16" rx="1" fill="#D6CDC0"/>
        <ellipse cx="78.5829" cy="199" rx="6.41711" ry="8" fill="#FFFFFA"/>
        <rect x="74" y="198" width="10" height="2" fill="#D6CDC0"/>
        <ellipse cx="77" cy="21.5" rx="7.5" ry="7" transform="rotate(-90 77 21.5)" fill="#9A9286"/>
        <rect x="70" y="22" width="5" height="14" rx="1" transform="rotate(-90 70 22)" fill="#9A9286"/>
        <ellipse cx="76.4171" cy="18" rx="6.41711" ry="8" fill="#D6CDC0"/>
        <rect x="75.4144" y="10" width="4.33155" height="16" rx="1" fill="#D6CDC0"/>
        <ellipse cx="78.5829" cy="18" rx="6.41711" ry="8" fill="#FFFFFA"/>
        <rect x="74" y="17" width="10" height="2" fill="#D6CDC0"/>
      </svg>
    </div>

    <div class="vertical-2-3-center">
      <svg id="plug" class='position-absolute plug-transition' width="87" height="49" viewBox="0 0 87 49" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect y="14" width="29" height="8" rx="3" fill="#C4C4C4"/>
        <path d="M6 36.5C6 34.567 7.567 33 9.5 33H31.5C33.433 33 35 34.567 35 36.5C35 38.433 33.433 40 31.5 40H9.5C7.567 40 6 38.433 6 36.5Z" fill="#C4C4C4"/>
        <rect x="37" width="20" height="49" fill="#D6CDC0"/>
        <ellipse rx="19" ry="24.5" transform="matrix(-1 0 0 1 36 24.5)" fill="#D6CDC0"/>
        <rect width="30" height="49" rx="5" transform="matrix(-1 0 0 1 75 0)" fill="#F4F4EE"/>
        <ellipse rx="17.5" ry="24.5" transform="matrix(-1 0 0 1 69 24.5)" fill="#F4F4EE"/>
        <path d="M29 24.5C29 38.031 39.0066 49 49.5 49C59.9934 49 68.5 38.031 68.5 24.5C68.5 10.969 59.9934 0 49.5 0C39.0066 0 29 10.969 29 24.5Z" fill="#F4F4EE"/>
      </svg>
    </div>
  </div>
</div>

<script>

  // initialize a plug object
  function plug_object(plug_offset_x, plug_offset_y, plug_element) {
    this.is_holding = false;
    this.is_hovering = false;
    this.plug_offset_x = plug_offset_x;
    this.plug_offset_y = plug_offset_y;
    this.plug_element = document.getElementById(plug_element);

    // function to encapsulate all plug movement logic
    this.move_plug = function (mouseX, mouseY, play_area_floor, play_area_ceil, play_area_wall_left, play_area_wall_right) {
      this.update_plug_position(mouseX, mouseY)
      this.hit_floor(play_area_floor);
      this.hit_ceil(play_area_ceil);
      this.hit_wall_left(play_area_wall_left);
      this.hit_wall_right(play_area_wall_right);
    }

    // function to update the x and y of the plug
    this.update_plug_position = function (mouseX, mouseY) {
      this.plug_element.style.top = mouseY - this.plug_offset_y;
      this.plug_element.style.left = mouseX - this.plug_offset_x;
    }

    // function to prevent plug from exceeding its upper Y boundry
    this.hit_floor = function (floor_y) {
      if (parseInt(this.plug_element.style.top, 10) > floor_y) {
        this.plug_element.style.top = floor_y + 'px';
      }
    }

    // function to prevent plug from exceeding its lower Y boundry
    this.hit_ceil = function (ceil_y) {
      if (parseInt(this.plug_element.style.top, 10) < ceil_y) {
        this.plug_element.style.top = ceil_y + 'px';
      }
    }

    // function to prevent plug from exceeding its lower X boundry
    this.hit_wall_left = function(wall_left_x) {
      if (parseInt(this.plug_element.style.left, 10) < wall_left_x) {
        this.plug_element.style.left = wall_left_x + 'px';
      }
    }

    // function to prevent plug from exceeding its lower X boundry
    this.hit_wall_right = function (wall_right_x) {
      if (parseInt(this.plug_element.style.left, 10) > wall_right_x) {
        this.plug_element.style.left = wall_right_x + 'px'; 
      }
    }

    //getters and setters
    this.set_is_holding = function (bool) {
      this.is_holding = bool;
    }

    this.set_is_hovering = function (bool) {
      this.is_hovering = bool;
    }

    this.get_is_holding = function () {
      return this.is_holding;
    }

    this.get_is_hovering = function () {
      return this.is_hovering;
    }
  }

  // initialize an area where the plug can move around in
  function play_area() {
    this.floor = 0;
    this.ceil = 0;
    this.wall_left = 0;
    this.wall_right = 0;

    // update the boundries of the play area
    this.update_play_area = function () {
      this.floor = $('#boundry_box').offset().top + $('#boundry_box').outerHeight(true);
      this.ceil = $('#boundry_box').offset().top;
      this.wall_left = $('#boundry_box').offset().left;
      this.wall_right = $('#boundry_box').offset().left + $('#boundry_box').outerWidth(true);
    }

    //getters and setters
    this.get_floor = function () {
      return this.floor;
    }

    this.get_ceil = function () {
      return this.ceil;
    }

    this.get_wall_left = function () {
      return this.wall_left;
    }

    this.get_wall_right = function () {
      return this.wall_right;
    }
  }

  // create a plug object
  var plug = new plug_object(55, 25, 'plug');

  // create a play area for the plug
  var plug_play_area = new play_area();
  // update the plug's play area
  plug_play_area.update_play_area();

  // when the left mouse button is pressed
  window.addEventListener('mousedown', (event) => {
    plug.set_is_holding(true);
  });

  // when the mosue cursor is over the plug
  plug.plug_element.addEventListener('mouseover', (event) => {
    plug.set_is_hovering(true);
  });

  // when the mouse moves
  window.addEventListener('mousemove', (event) => {
    if (plug.get_is_holding() && plug.get_is_hovering()) {
      plug.move_plug(event.clientX, event.clientY, plug_play_area.get_floor(), plug_play_area.get_ceil(), plug_play_area.get_wall_left(), plug_play_area.get_wall_right());
    }
  });

  // when the left mouse button is let go
  window.addEventListener('mouseup', (event) => {
    if (plug.get_is_holding()) {
      plug.set_is_holding(false);
      plug.set_is_hovering(false);
    }
  });

  // on window resize, update the plug position and the bounding box where the plug can exist
  $( window ).resize(function() {
    plug_play_area.update_play_area();
    plug.move_plug(plug.plug_element.style.left, plug.plug_element.style.top, plug_play_area.get_floor(), plug_play_area.get_ceil(), plug_play_area.get_wall_left(), plug_play_area.get_wall_right());
  });

</script>

