---
layout: default
---

<script src="javascript/jquery-3.6.0.js"></script>
<div class="limited-max-size-centered d-flex flex-justify-center">
  <svg id="monitor" width="760" height="696" viewBox="0 0 1060 696" fill="none" xmlns="http://www.w3.org/2000/svg">
    <ellipse cx="460" cy="598" rx="460" ry="71" fill="#9A9286"/>
    <path d="M608.404 593.5V581L297.404 580.5V593.5C410.783 622.85 478.214 625.266 608.404 593.5Z" fill="#D6CDC0" stroke="#D6CDC0"/>
    <path d="M296.904 581C408.077 608.642 475.017 611.98 608.404 581C590.796 561.867 579.629 556.975 561.404 553C567.279 537.758 566.204 530.24 561.404 517.5H339.904V553C318.047 558.161 308.768 564.433 296.904 581Z" fill="#F4F4EE" stroke="#F4F4EE"/>
    <path d="M339.404 552.5C427.55 570.223 476.327 572.463 561.404 553.5C592.462 547.88 604.918 528.203 627.404 494L308.904 498.5C310.024 519.103 311.356 530.688 339.404 552.5Z" fill="#D6CDC0" stroke="#D6CDC0"/>
    <path d="M655.225 53.1945C651.593 51.196 647.198 51.0348 643.441 52.7859L396.252 168.001C391.672 170.135 388.744 174.73 388.744 179.783V406.217C388.744 411.27 391.672 415.865 396.252 417.999L643.669 533.321C647.297 535.012 651.53 534.925 655.091 533.098C745.37 486.774 797.023 453.597 902.389 417.138C907.079 415.515 910.499 411.366 911.121 406.442C922.663 315.041 924.496 262.054 911.358 179.294C910.598 174.505 907.176 170.555 902.575 169.025C804.644 136.449 749.337 104.992 655.225 53.1945Z" fill="#D6CDC0"/>
    <rect width="6.88889" height="82.988" rx="3" transform="matrix(0 1 1 0 775.737 197.778)" fill="#9A9286"/>
    <rect width="6.88889" height="82.988" rx="3" transform="matrix(0 1 1 0 776.89 225.333)" fill="#9A9286"/>
    <rect width="6.88889" height="58.7831" rx="3" transform="matrix(0 1 1 0 788.416 239.111)" fill="#9A9286"/>
    <rect width="6.88889" height="58.7831" rx="3" transform="matrix(0 1 1 0 788.416 184)" fill="#9A9286"/>
    <rect width="6.88889" height="109.498" rx="3" transform="matrix(0 1 1 0 761.906 211.556)" fill="#9A9286"/>
    <path d="M814.578 32.5371C815.026 24.0347 808.299 16.8177 799.787 16.6469C689.765 14.4401 624.307 8.16142 519.196 9.29544C511.011 9.38375 504.418 16.0635 504.418 24.249V521.167C504.418 529.23 510.82 535.854 518.877 536.131C626.392 539.825 692.712 537.461 799.923 535.832C808.385 535.704 815.106 528.576 814.738 520.121C806.536 331.527 804.713 219.673 814.578 32.5371Z" fill="#D6CDC0"/>
    <path d="M735.389 31.9047C735.939 23.6777 729.67 16.4871 721.448 15.8743C439.904 -5.11048 283.281 -4.49083 26.0275 15.9862C18.772 16.5638 12.8993 22.3338 12.2374 29.5821C-4.68976 214.942 -3.21313 327.715 12.3353 522.736C12.9368 530.28 19.1716 536.247 26.7333 536.563C299.622 547.98 456.642 548.268 721.133 536.677C729.489 536.311 736.002 529.13 735.525 520.781C724.634 330.023 722.984 217.594 735.389 31.9047Z" fill="#F4F4EE"/>
    <path d="M673.404 87.2827C673.404 82.0482 669.295 77.6934 664.075 77.3106C439.119 60.8167 309.004 61.452 83.7798 77.4033C78.9672 77.7441 75.011 81.5305 74.4908 86.3271C58.4372 234.339 58.8569 320.377 74.4351 466.041C74.9776 471.114 79.2681 475 84.3704 475H663.404C668.927 475 673.404 470.523 673.404 465V87.2827Z" fill="#D6CDC0"/>
    <path id="monitor_screen" d="M110.617 98.3965C315.717 84.3044 448.501 83.7027 672.904 99.0004V464.375C672.904 469.946 668.35 474.443 662.779 474.374L121.121 467.603C116.346 467.544 112.276 464.115 111.424 459.416C96.1261 375.027 87.832 301.387 101.287 107.754C101.632 102.787 105.649 98.7378 110.617 98.3965Z" fill="#9A9286" stroke="#9A9286"/>
    <path d="M33.0708 506.333C33.0708 517.011 40.5328 525.667 49.7375 525.667C58.9423 525.667 66.4042 517.011 66.4042 506.333C66.4042 495.656 58.9423 487 49.7375 487C40.5328 487 33.0708 495.656 33.0708 506.333Z" fill="#9A9286"/>
    <path id="monitor_power_button_light" d="M79.4042 520C79.4042 522.761 81.6428 525 84.4042 525C87.1656 525 89.4042 522.761 89.4042 520C89.4042 517.239 87.1656 515 84.4042 515C81.6428 515 79.4042 517.239 79.4042 520Z" fill="#869A89"/>
    <circle r="16.6667" transform="matrix(-1 0 0 1 49.7375 503.667)" fill="#D6CDC0"/>
    <path d="M26.4042 503.667C26.4042 512.871 33.8661 520.333 43.0708 520.333C52.2756 520.333 59.7375 512.871 59.7375 503.667C59.7375 494.462 52.2756 487 43.0708 487C33.8661 487 26.4042 494.462 26.4042 503.667Z" fill="#F4F4EE"/>
    <rect width="4" height="18.6667" transform="matrix(-1 0 0 1 45.0709 493.667)" fill="#D6CDC0"/>
    <rect id="cord_meets_monitor" x="900" y="400" width="4" height="4" fill="#D6CDC0"/>
    <foreignObject id="screen_text" class="visibility-none" x="87" y="82" width="585" height="400">
      <div class="title-brown noselect screen-text" >
        Michael Odermatt
        <br>
          <div class="font-size-35">
            <i>
            CS Student | Programmer
            </i>
          </div>
      </div>
    </foreignObject>
  </svg>
</div>
<div class="wrapper font-size-100 margin-top-lg">
  <div class="wrapper h-25" id="boundry_box">
    <div class="d-flex flex-justify-around">
      <div id="socket_div" class="vertical-2-3-center">
        <svg width="137" height="230" viewBox="0 0 137 230" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect y="10" width="127.397" height="220" rx="15" fill="#9A9286"/>
          <rect width="127.397" height="220" rx="15" fill="#D6CDC0"/>
          <rect x="9.60281" width="127.397" height="220" rx="15" fill="#F4F4EE"/>
          <rect width="31.9" height="49" rx="5" transform="matrix(-1 0 0 1 94.0767 87)" fill="#9A9286"/>
          <ellipse rx="16.9167" ry="24.5" transform="matrix(-1 0 0 1 88.0833 111.5)" fill="#9A9286"/>
          <ellipse rx="18.3667" ry="24.5" transform="matrix(-1 0 0 1 65.3667 111.5)" fill="#9A9286"/>
          <path d="M49.4167 111.5C49.4167 125.031 59.0897 136 69.2333 136C79.377 136 87.6 125.031 87.6 111.5C87.6 97.969 79.377 87 69.2333 87C59.0897 87 49.4167 97.969 49.4167 111.5Z" fill="#9A9286"/>
          <rect x="69.2333" y="88" width="19.3333" height="47" fill="#9A9286"/>
          <path d="M83.1533 127H76.7733V123.19C76.7733 121.428 78.2015 120 79.9633 120C81.7251 120 83.1533 121.428 83.1533 123.19V127Z" fill="#9A9286"/>
          <rect x="85.6667" y="98" width="3.86667" height="14" fill="#9A9286"/>
          <rect x="68.2667" y="96" width="3.86667" height="18" fill="#9A9286"/>
          <rect width="33" height="49" rx="5" transform="matrix(-1 0 0 1 95.7 84)" fill="#FFFFFA"/>
          <ellipse rx="17.5" ry="24.5" transform="matrix(-1 0 0 1 89.5 108.5)" fill="#FFFFFA"/>
          <ellipse rx="19" ry="24.5" transform="matrix(-1 0 0 1 66 108.5)" fill="#D6CDC0"/>
          <path d="M49.5 108.5C49.5 122.031 59.5066 133 70 133C80.4934 133 89 122.031 89 108.5C89 94.969 80.4934 84 70 84C59.5066 84 49.5 94.969 49.5 108.5Z" fill="#FFFFFA"/>
          <rect x="70" y="85" width="20" height="47" fill="#FFFFFA"/>
          <path d="M83.4 124H76.8V120.3C76.8 118.477 78.2774 117 80.1 117C81.9225 117 83.4 118.477 83.4 120.3V124Z" fill="#9C9386"/>
          <rect x="86" y="95" width="4" height="14" fill="#9C9386"/>
          <rect x="68" y="93" width="4" height="18" fill="#9C9386"/>
          <ellipse cx="77" cy="202.5" rx="7.5" ry="7" transform="rotate(-90 77 202.5)" fill="#9A9286"/>
          <rect x="70" y="203" width="5" height="14" rx="1" transform="rotate(-90 70 203)" fill="#9A9286"/>
          <ellipse cx="76.4171" cy="199" rx="6.41711" ry="8" fill="#D6CDC0"/>
          <rect x="75.4144" y="191" width="4.33155" height="16" rx="1" fill="#D6CDC0"/>
          <ellipse cx="78.5829" cy="199" rx="6.41711" ry="8" fill="#FFFFFA"/>
          <rect x="74" y="198" width="10" height="2" fill="#D6CDC0"/>
          <ellipse cx="77" cy="21.5" rx="7.5" ry="7" transform="rotate(-90 77 21.5)" fill="#9A9286"/>
          <rect x="70" y="22" width="5" height="14" rx="1" transform="rotate(-90 70 22)" fill="#9A9286"/>
          <ellipse cx="76.4171" cy="18" rx="6.41711" ry="8" fill="#D6CDC0"/>
          <rect x="75.4144" y="10" width="4.33155" height="16" rx="1" fill="#D6CDC0"/>
          <ellipse cx="78.5829" cy="18" rx="6.41711" ry="8" fill="#FFFFFA"/>
          <rect x="74" y="17" width="10" height="2" fill="#D6CDC0"/>
        </svg>
      </div>
      <div class="vertical-2-3-center">
        <svg id="plug" class='position-absolute' width="87" height="49" viewBox="0 0 87 49" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect id="large_prong_male" y="14" width="29" height="8" rx="3" fill="#C4C4C4"/>
          <rect id="small_prong_male" y="34" x="9" width="29" height="6" rx="3" fill="#C4C4C4"/>
          <rect x="37" width="20" height="49" fill="#D6CDC0"/>
          <ellipse rx="19" ry="24.5" transform="matrix(-1 0 0 1 36 24.5)" fill="#D6CDC0"/>
          <rect width="30" height="49" rx="5" transform="matrix(-1 0 0 1 75 0)" fill="#F4F4EE"/>
          <ellipse rx="17.5" ry="24.5" transform="matrix(-1 0 0 1 69 24.5)" fill="#F4F4EE"/>
          <path d="M29 24.5C29 38.031 39.0066 49 49.5 49C59.9934 49 68.5 38.031 68.5 24.5C68.5 10.969 59.9934 0 49.5 0C39.0066 0 29 10.969 29 24.5Z" fill="#F4F4EE"/>
        </svg>
      </div>
      <div class="vertical-2-3-center">
        <svg id="cord_svg" class="position-absolute pointer-events-none">
          <path id="cord" d="M0 0" stroke="#D6CDC0" stroke-width="4" stroke-linecap="round" fill="transparent"></path>
          <!-- <line x1="0" y1="0" x2="0" y2="0" id="cord_shadow" stroke="#9A9286" stroke-width="5" stroke-linecap="round" fill="transparent"></line> -->
        </svg>
      </div>
    </div>
  </div>
</div>
<div id="touchscreen_button" class="cursor-pointer title-brown font-size-25 margin-top-100">
  <i class="animated-underline">
    using a touchscreen?
  </i>
</div>

<script>

  //get cord end div
  var cord_end_div = $("#cord_end");

  // initialize a plug object
  function plug_object(plug_offset_x, plug_offset_y, plug_element, cord_svg_id, cord_element_id, cord_shadow_id, play_area_floor, play_area_ceil, play_area_wall_left, play_area_wall_right, click_sound_name) {
    this.is_plugged_in = false;
    this.is_holding = false;
    this.is_hovering = false;
    this.plug_x = 0;
    this.plug_y = 0;
    this.plug_offset_x = plug_offset_x;
    this.plug_offset_y = plug_offset_y;
    this.cord_offset_min = 100;
    this.cord_offset_max = 200;
    this.cord_shadow_offset = 50;
    this.cord_svg_ceil = $("#monitor").offset().top;
    this.play_area_floor = play_area_floor;
    this.play_area_ceil = play_area_ceil;
    this.play_area_wall_left = play_area_wall_left;
    this.play_area_wall_right = play_area_wall_right;
    this.plug_element = $("#" + plug_element);
    this.cord_element = $("#" + cord_element_id)
    this.cord_svg = $("#" + cord_svg_id)
    this.cord_shadow_element = $("#" + cord_shadow_id)
    this.socket_offset_from_center_y = 31;
    this.socket_offset_from_wall_left_x = 0;
    this.socket_hitbox_size = 5;
    this.socket_x = 0;
    this.socket_y = 0;
    this.depth_of_socket = 36;
    this.cord_svg_border_size = 5;
    this.small_prong_female_x_offset = 9;
    this.has_sound_click_played = false;
    this.sound_click = new Audio("sounds/" + click_sound_name);

    // function to encapsulate all plug movement logic
    this.move_plug = function (new_x, new_y) {
      this.update_plug_position(new_x, new_y)
      this.check_plug_collision();
      this.update_plug_element_position();
      this.update_cord();
    }

    // function to update the x and y of the plug
    this.update_plug_position = function (newX, newY) {
      this.plug_x = newX - this.plug_offset_x;
      this.plug_y = newY - this.plug_offset_y;
    }

    // update the position of the SVG representing the plug with the plug objects x and y
    this.update_plug_element_position = function () {
      this.plug_element.css({left: this.plug_x + 'px', top: this.plug_y + 'px'});
    }

    // function to update cord position
    this.update_cord = function() {

      // move the svg element
      this.cord_svg.css({left: this.play_area_wall_left, top: this.cord_svg_ceil});

      // resize the svg element to match the bounding box
      this.cord_svg.attr('width', this.play_area_wall_right - this.play_area_wall_left + this.cord_svg_border_size + "px");
      this.cord_svg.attr('height', this.play_area_floor - this.cord_svg_ceil + this.cord_svg_border_size + "px");

      // calculate the end point and start point coordinates
      var cord_end_x = $("#cord_meets_monitor").offset().left - this.play_area_wall_left;
      var cord_end_y = $("#cord_meets_monitor").offset().top - this.cord_svg_ceil;//this.get_play_area_height_half();

      var cord_start_x = (this.plug_x + this.plug_offset_x) - this.play_area_wall_left;
      var cord_start_y = (this.plug_y + this.plug_offset_y) - this.cord_svg_ceil;

      // calculate the curve for the path
      var curve = this.calc_curve(cord_start_x, cord_start_y, cord_end_x, cord_end_y, cord_end_x);

      // draw the shadow element
      //this.draw_shadow(cord_start_x, cord_end_x);

      this.cord_element.attr("d", curve)
    }

    // update the boundries of the play area
    this.update_play_area = function () {
      this.play_area_floor = $('#boundry_box').offset().top + $('#boundry_box').outerHeight(true);
      this.play_area_ceil = $('#boundry_box').offset().top;
      this.play_area_wall_left = $('#socket_div').offset().left + $('#socket_div').outerWidth()/2;
      this.play_area_wall_right = $('#boundry_box').offset().left + $('#boundry_box').outerWidth(true);
    }

    this.update_cord_svg_ceil = function () {
      this.cord_svg_ceil = $("#monitor").offset().top;
    }

    // check if the plug is colliding with any of the play area boundries
    this.check_plug_collision = function () {
      if (this.is_plugged_in == false) {

        // check collision with play area walls
        this.check_hit_floor();
        this.check_hit_ceil();
        this.check_hit_wall_left();
        this.check_hit_wall_right();

        this.is_plugged_in = this.has_plug_hit_socket();

      } else {

        // if the socket is plugged in, lock its y value and change the left and right boundries
        this.plug_y = this.socket_y;
        this.check_hit_end_of_socket();
        this.check_hit_wall_right();
        this.shift_prongs();
        this.is_plugged_in = this.has_plug_exited_socket();
      }
    }

    // function to prevent plug from exceeding its upper Y boundry
    this.check_hit_floor = function () {
      var boundry = this.play_area_floor - this.plug_element.attr("height");
      this.plug_y = this.constrain_upper(this.plug_y, boundry)
    }

    // function to prevent plug from exceeding its lower Y boundry
    this.check_hit_ceil = function () {
      this.plug_y = this.constrain_lower(this.plug_y, this.play_area_ceil)
    }

    // function to prevent plug from exceeding its lower X boundry
    this.check_hit_wall_left = function() {
      this.plug_x = this.constrain_lower(this.plug_x, this.play_area_wall_left)
      
    }

    // check if you have collided with the socket hitbox
    this.has_plug_hit_socket = function() {
      var socket_hitbox_y_lower = (this.socket_y) - this.socket_hitbox_size;
      var socket_hitbox_y_upper = (this.socket_y) + this.socket_hitbox_size;

      if (this.plug_y <= socket_hitbox_y_upper && this.plug_y >= socket_hitbox_y_lower && this.plug_x == this.play_area_wall_left) {
        return true;
      } else {
        return false;
      }
    }

    // checks if the plug is pulled out far enough (if plug_x exceeds the left wall by 1 or more units)
    this.has_plug_exited_socket = function() {
      if (this.plug_y == this.socket_y && this.plug_x >= this.play_area_wall_left + 1) {
        return false;
      } else {
        return true;
      }
    }

    // function to prevent plug from exceeding its lower X socket boundry
    this.check_hit_end_of_socket = function() {
      var boundry = this.play_area_wall_left - this.depth_of_socket;

      this.plug_x = this.constrain_lower(this.plug_x, boundry)
      this.play_sound_click_if_hit_boundry(this.plug_x, boundry);
    }

    // function to prevent plug from exceeding its upper X boundry
    this.check_hit_wall_right = function () {
      var boundry = this.play_area_wall_right - this.plug_element.attr("width");
      this.plug_x = this.constrain_upper(this.plug_x, boundry)
    }

    // if a value has hit a limit, play the click sound
    this.play_sound_click_if_hit_boundry = function (value, constraint) {
      if (value == constraint && this.has_sound_click_played == false) {
        this.sound_click.play();
        this.has_sound_click_played = true;
        this.screen_on();
      }

      if (value != constraint && this.has_sound_click_played == true) {
        this.has_sound_click_played = false;
        this.screen_off();
      }
    }

    // constrains a value to a upper boundry
    this.constrain_upper = function (value, constraint) {
      if (value > constraint) {
        return constraint; 
      } else {
        return value
      }
    }

    // constrains a value to a lower boundry
    this.constrain_lower = function (value, constraint) {
      if (value < constraint) {
        return constraint; 
      } else {
        return value
      }
    }

    // calculate quadratic
    this.calc_curve = function (cord_start_x, cord_start_y, cord_end_x, cord_end_y, cord_length_max) {

      // mid-point of line
      var mpx = (cord_end_x + cord_start_x) * 0.5;
    	var mpy = (cord_end_y + cord_start_y) * 0.5;
    
    	// angle perpendicular to the horizontal
    	var theta = Math.atan2(0, cord_end_x - cord_start_x) - Math.PI / 2;
    
      // flips the offset sign depending on which point is bigger on the x axis
      var offset = -800;

      if (cord_start_x >cord_end_x) {
        offset *= -1;
      }
    
    	// location of control point
    	var c1x = mpx + offset * Math.cos(theta);
    	var c1y = mpy + offset * Math.sin(theta);
      c1y = this.constrain_upper(c1y, this.get_cord_svg_height());

      return "M" + cord_start_x + " " + cord_start_y + " Q " + c1x + " " + c1y + " " + cord_end_x + " " + cord_end_y;
    }

    // calculates distance of control point from mid-point of line
    this.calc_offset = function (cord_start_x, cord_end_x, cord_start_y, cord_start_y, cord_length_max) {
      var length_of_x = Math.pow(cord_end_x - cord_start_x, 2);
      var length_of_y = Math.pow(cord_end_y - cord_start_y, 2);
      var length_of_cord = Math.sqrt(length_of_x + length_of_y);

      var cord_length_ratio = 1 - (length_of_cord / cord_length_max);

      return -1 * ((cord_length_ratio * this.cord_offset_max) + this.cord_offset_min);
    }

    // draw the shadow for the cord and plug
    this.draw_shadow = function (cord_start_x, cord_end_x) {
      this.cord_shadow_element.attr("x1", cord_start_x - this.cord_shadow_offset );
      this.cord_shadow_element.attr("x2", cord_end_x);
      this.cord_shadow_element.attr("y1", this.get_cord_svg_height());
      this.cord_shadow_element.attr("y2", this.get_cord_svg_height());
    }

    // function for when the screen turns on
    this.screen_on = function() {
      $("#monitor_screen").attr("fill", "#FFFFFA");
      $("#monitor_screen").attr("stroke", "#FFFFFA");
      $("#monitor_power_button_light").attr("fill", "#86cc8a");
      $("#screen_text").attr("class", "");
    }

    // function for when the screen turns off
    this.screen_off = function() {
      $("#monitor_screen").attr("fill", "#9A9286");
      $("#monitor_screen").attr("stroke", "#9A9286");
      $("#monitor_power_button_light").attr("fill", "#9A8686");
      $("#screen_text").attr("class", "visibility-none");
    }

    // function to handle the shifting prongs
    this.shift_prongs = function () {
      var female_large_prong_x = this.play_area_wall_left;
      var small_prong_female_x = this.play_area_wall_left - this.small_prong_female_x_offset;

      var male_large_prong_x = this.plug_x;
      var small_prong_male_x = this.plug_x - this.small_prong_female_x_offset;

      // if the male prongs have moved past the female prongs
      if (female_large_prong_x >= male_large_prong_x) {
        var offset_large = female_large_prong_x - male_large_prong_x;
        var offset_small = small_prong_female_x - small_prong_male_x;

        $("#large_prong_male").attr("x", offset_large);
        $("#small_prong_male").attr("x", offset_small + this.small_prong_female_x_offset);
      } else {
        $("#large_prong_male").attr("x", 0);
        $("#small_prong_male").attr("x", this.small_prong_female_x_offset);
      }
    }

    // update socket and its hitboxes x and y values
    this.update_socket_position = function () {
      this.socket_x = this.play_area_wall_left - this.socket_offset_from_wall_left_x;
      this.socket_y = this.get_play_area_height_half() + this.play_area_ceil - this.socket_offset_from_center_y;
    }

    // encapsulating function for updating the play area and its requried parameters
    this.update_screen_dependent_variables = function () {
      this.update_play_area();
      this.update_cord_svg_ceil();
      this.update_socket_position();
    }

    // instantly moves the plug to the socket
    this.move_plug_to_socket = function () {
      this.is_plugged_in = true;
      this.move_plug(this.socket_x, this.socket_y);
    }

    //getters and setters
    this.set_is_holding = function (bool) {
      this.is_holding = bool;
    }

    this.set_is_hovering = function (bool) {
      this.is_hovering = bool;
    }

    this.get_is_holding = function () {
      return this.is_holding;
    }

    this.get_is_hovering = function () {
      return this.is_hovering;
    }

    this.get_is_plugged_in = function () {
      return this.is_plugged_in;
    }

    this.get_play_area_floor = function () {
      return this.play_area_floor;
    }

    this.get_play_area_ceil = function () {
      return this.play_area_ceil;
    }

    this.get_play_area_center_x = function () {
      return (this.play_area_wall_left + this.play_area_wall_right)/2;
    }

    this.get_play_area_height_half = function () {
      return (this.play_area_floor - this.play_area_ceil)/2;
    }

    this.get_play_area_height = function () {
      return this.play_area_floor - this.play_area_ceil;
    }

    this.get_cord_svg_height = function () {
      return this.play_area_floor - this.cord_svg_ceil;
    }
  }

  // create a plug object
  var plug = new plug_object(55, 25,'plug', "cord_svg", "cord", "cord_shadow", 0, 0, 0, 0, "click.mp3");

  // update the boundries of where the plug can exist
  plug.update_screen_dependent_variables();
  plug.move_plug(plug.get_play_area_center_x(), plug.get_play_area_ceil() + plug.get_play_area_height_half());

  // when the mosue cursor is over the plug
  plug.plug_element.mouseover( function() {
    plug.set_is_hovering(true);
  });

  // when the mosue cursor is no longer over the plug
  plug.plug_element.mouseout(function() {
    plug.set_is_hovering(false);
  });

  // when the mouse moves
  window.addEventListener('mousemove', (event) => {
    if (plug.get_is_holding()) {
      plug.move_plug(event.pageX, event.pageY);
    }
  });

 // when the left mouse button is pressed
 window.addEventListener('mousedown', (event) => {
    if (plug.get_is_hovering()) {
      plug.set_is_holding(true);
    }
  });

  // when the left mouse button is let go
  window.addEventListener('mouseup', (event) => {
    if (plug.get_is_holding()) {
      plug.set_is_holding(false);
    }
  });

  // button for users on mobile devices (the plug cant be moved on mobile/touchscreen devices)
  $('#touchscreen_button').click( function(e) {e.preventDefault(); 
    plug.move_plug_to_socket();
  return false; } );

  // on window resize, update the plug position and the bounding box where the plug can exist
  $( window ).resize(function() {
    plug.update_screen_dependent_variables();
    plug.move_plug(plug.plug_x, plug.plug_y);
  });

</script>

